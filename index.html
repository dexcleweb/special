<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>💖 Ultimate Proposal for My Dearest Sneha 💖</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&family=Playfair+Display:wght@400;500;600;700&family=Great+Vibes&family=Pacifico&family=Satisfy&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            scroll-snap-type: y mandatory;
            scroll-padding-top: 2rem;
            overflow-x: hidden;
            -webkit-transform: translateZ(0);
            transform: translateZ(0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            -webkit-perspective: 1000;
            perspective: 1000;
        }

        body {
            font-family: 'Playfair Display', serif;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #ffeaa7, #fd79a8, #fdcb6e, #e17055, #74b9ff, #a29bfe, #ff7675, #00b894);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            overflow-x: hidden;
            color: #2c3e50;
            min-height: 100vh;
            position: relative;
            cursor: none;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
            will-change: scroll-position;
            transform: translateZ(0);
            -webkit-transform: translateZ(0);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-rendering: optimizeLegibility;
        }

        /* Enhanced scrollbar styling */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(45deg, #e74c3c, #f39c12);
            border-radius: 10px;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(45deg, #c0392b, #e67e22);
        }

        /* Custom Cursor */
        .custom-cursor {
            position: fixed;
            width: 30px;
            height: 30px;
            background: radial-gradient(circle, rgba(231, 76, 60, 0.8) 0%, rgba(243, 156, 18, 0.6) 50%, transparent 70%);
            border-radius: 50%;
            pointer-events: none;
            z-index: 10000;
            transition: all 0.05s ease;
            mix-blend-mode: difference;
            will-change: transform;
            transform: translateZ(0);
        }

        .custom-cursor::after {
            content: '💖';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 16px;
            animation: heartBeat 1.5s ease-in-out infinite;
        }

        @keyframes heartBeat {
            0%, 100% {
                transform: translate(-50%, -50%) scale(1);
            }
            50% {
                transform: translate(-50%, -50%) scale(1.3);
            }
        }

        @keyframes gradientShift {
            0% {
                background-position: 0% 50%;
            }
            25% {
                background-position: 50% 100%;
            }
            50% {
                background-position: 100% 50%;
            }
            75% {
                background-position: 50% 0%;
            }
            100% {
                background-position: 0% 50%;
            }
        }

        /* Interactive Background Layers */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 255, 255, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 60% 60%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
            animation: shimmer 12s ease-in-out infinite;
            pointer-events: none;
            z-index: 0;
            will-change: opacity;
            transform: translateZ(0);
        }

        @keyframes shimmer {
            0%, 100% {
                opacity: 0.4;
            }
            25% {
                opacity: 0.8;
            }
            50% {
                opacity: 0.6;
            }
            75% {
                opacity: 0.9;
            }
        }

        /* Mouse Trail Effect */
        .mouse-trail {
            position: fixed;
            width: 6px;
            height: 6px;
            background: radial-gradient(circle, #e74c3c, #f39c12);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            opacity: 0.8;
            animation: trailFade 1s ease-out forwards;
            will-change: transform, opacity;
            transform: translateZ(0);
        }

        @keyframes trailFade {
            0% {
                opacity: 0.8;
                transform: scale(1);
            }
            100% {
                opacity: 0;
                transform: scale(0);
            }
        }

        /* Enhanced Floating Elements */
        .hearts,
        .sparkles,
        .particles,
        .celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            will-change: transform;
            transform: translateZ(0);
        }

        .heart {
            position: absolute;
            font-size: 25px;
            animation: floatHeart 10s linear infinite;
            opacity: 0;
            filter: drop-shadow(0 0 15px rgba(231, 76, 60, 0.7));
            transition: all 0.3s ease;
            pointer-events: auto;
            will-change: transform, opacity;
            transform: translateZ(0);
            align-items: center !important;
        }

        .heart:hover {
            transform: scale(1.5) rotate(15deg);
            filter: drop-shadow(0 0 25px rgba(231, 76, 60, 1));
        }

        @keyframes floatHeart {
            0% {
                transform: translateY(100vh) rotate(0deg) scale(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
                transform: translateY(90vh) rotate(36deg) scale(1);
            }
            90% {
                opacity: 1;
                transform: translateY(-10vh) rotate(324deg) scale(1);
            }
            100% {
                transform: translateY(-20vh) rotate(360deg) scale(0);
                opacity: 0;
            }
        }

        /* Interactive Sparkles */
        .sparkle {
            position: absolute;
            font-size: 20px;
            animation: sparkleFloat 8s ease-in-out infinite;
            cursor: pointer;
            transition: all 0.3s ease;
            filter: drop-shadow(0 0 10px rgba(241, 196, 15, 0.8));
            pointer-events: auto;
            will-change: transform, opacity;
            transform: translateZ(0);
        }

        .sparkle:hover {
            transform: scale(2) rotate(180deg);
            filter: drop-shadow(0 0 20px rgba(241, 196, 15, 1));
        }

        @keyframes sparkleFloat {
            0%, 100% {
                opacity: 0.6;
                transform: translateY(0px) rotate(0deg) scale(1);
            }
            25% {
                opacity: 1;
                transform: translateY(-20px) rotate(90deg) scale(1.2);
            }
            50% {
                opacity: 0.8;
                transform: translateY(-10px) rotate(180deg) scale(1.5);
            }
            75% {
                opacity: 1;
                transform: translateY(-15px) rotate(270deg) scale(1.1);
            }
        }

        /* Enhanced Particles */
        .particle {
            position: absolute;
            border-radius: 50%;
            animation: particleFloat 25s linear infinite;
            filter: blur(1px);
            will-change: transform, opacity;
            transform: translateZ(0);
        }

        @keyframes particleFloat {
            0% {
                transform: translateY(100vh) translateX(0px) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) translateX(200px) rotate(360deg);
                opacity: 0;
            }
        }

        /* MASSIVE TOP HEART - Mobile First Design */
        .massive-top-heart {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 120px;
            z-index: 10001;
            animation: massiveHeartPulse 2s ease-in-out infinite;
            cursor: pointer;
            filter: drop-shadow(0 0 30px rgba(231, 76, 60, 0.8));
            transition: all 0.3s ease;
            user-select: none;
            will-change: transform;
        }

        .massive-top-heart:hover {
            transform: translateX(-50%) scale(1.2);
            filter: drop-shadow(0 0 50px rgba(231, 76, 60, 1));
        }

        @keyframes massiveHeartPulse {
            0%, 100% {
                transform: translateX(-50%) scale(1);
                filter: drop-shadow(0 0 30px rgba(231, 76, 60, 0.8));
            }
            50% {
                transform: translateX(-50%) scale(1.15);
                filter: drop-shadow(0 0 50px rgba(231, 76, 60, 1)) drop-shadow(0 0 80px rgba(243, 156, 18, 0.6));
            }
        }

        /* Main Container with space for massive heart */
        .container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 180px 20px 20px 20px; /* Extra top padding for massive heart */
            position: relative;
            z-index: 2;
            scroll-snap-align: start;
            will-change: transform;
            transform: translateZ(0);
        }

        /* Enhanced Proposal Card */
        .proposal-card {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(30px);
            border-radius: 40px;
            padding: 60px;
            text-align: center;
            max-width: 900px;
            width: 100%;
            box-shadow:
                0 40px 80px rgba(0, 0, 0, 0.25),
                inset 0 2px 0 rgba(255, 255, 255, 0.4),
                0 0 60px rgba(255, 255, 255, 0.15),
                0 0 100px rgba(231, 76, 60, 0.1);
            border: 3px solid rgba(255, 255, 255, 0.3);
            position: relative;
            z-index: 3;
            transform: scale(0) rotateY(180deg);
            animation: cardAppear 2.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) 0.5s forwards;
            overflow: hidden;
            transition: all 0.5s ease;
            will-change: transform, opacity;
            -webkit-transform: translateZ(0);
            transform: translateZ(0);
        }

        .proposal-card:hover {
            transform: scale(1.02) translateY(-10px);
            box-shadow:
                0 50px 100px rgba(0, 0, 0, 0.3),
                inset 0 2px 0 rgba(255, 255, 255, 0.5),
                0 0 80px rgba(255, 255, 255, 0.2),
                0 0 120px rgba(231, 76, 60, 0.15);
        }

        /* Multiple Shine Effects */
        .proposal-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.15), transparent);
            animation: cardShine 4s ease-in-out infinite;
            transform: rotate(45deg);
            will-change: transform;
        }

        .proposal-card::after {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(-45deg, transparent, rgba(243, 156, 18, 0.1), transparent);
            animation: cardShine2 6s ease-in-out infinite reverse;
            transform: rotate(-45deg);
            will-change: transform;
        }

        @keyframes cardShine {
            0% {
                transform: translateX(-100%) translateY(-100%) rotate(45deg);
            }
            50% {
                transform: translateX(0%) translateY(0%) rotate(45deg);
            }
            100% {
                transform: translateX(100%) translateY(100%) rotate(45deg);
            }
        }

        @keyframes cardShine2 {
            0% {
                transform: translateX(100%) translateY(-100%) rotate(-45deg);
            }
            50% {
                transform: translateX(0%) translateY(0%) rotate(-45deg);
            }
            100% {
                transform: translateX(-100%) translateY(100%) rotate(-45deg);
            }
        }

        @keyframes cardAppear {
            0% {
                transform: scale(0) rotateY(180deg);
                opacity: 0;
            }
            50% {
                transform: scale(1.15) rotateY(90deg);
                opacity: 0.7;
            }
            100% {
                transform: scale(1) rotateY(0deg);
                opacity: 1;
            }
        }

        /* Interactive Title */
        .title {
            font-family: 'Great Vibes', cursive;
            font-size: 4em;
            background: linear-gradient(45deg, #e74c3c, #f39c12, #e74c3c, #c0392b, #f39c12);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 40px;
            text-shadow: 0 0 40px rgba(231, 76, 60, 0.4);
            animation:
                titlePulse 4s ease-in-out infinite,
                titleGlow 5s ease-in-out infinite,
                gradientShift 8s ease infinite;
            font-weight: 700;
            letter-spacing: 3px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            will-change: transform;
            transform: translateZ(0);
        }

        .title:hover {
            transform: scale(1.1) rotate(2deg);
            text-shadow: 0 0 60px rgba(231, 76, 60, 0.8);
        }

        .title::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: titleShimmer 3s ease-in-out infinite;
            border-radius: 15px;
            opacity: 0;
            will-change: transform, opacity;
        }

        .title:hover::after {
            opacity: 1;
        }

        @keyframes titlePulse {
            0%, 100% {
                transform: scale(1) rotate(0deg);
            }
            25% {
                transform: scale(1.05) rotate(1deg);
            }
            50% {
                transform: scale(1.1) rotate(0deg);
            }
            75% {
                transform: scale(1.05) rotate(-1deg);
            }
        }

        @keyframes titleGlow {
            0%, 100% {
                filter: drop-shadow(0 0 30px rgba(231, 76, 60, 0.6));
                text-shadow: 0 0 40px rgba(231, 76, 60, 0.4);
            }
            50% {
                filter: drop-shadow(0 0 50px rgba(231, 76, 60, 0.9)) drop-shadow(0 0 80px rgba(243, 156, 18, 0.6));
                text-shadow: 0 0 60px rgba(231, 76, 60, 0.8);
            }
        }

        @keyframes titleShimmer {
            0% {
                transform: translateX(-100%);
                opacity: 0;
            }
            50% {
                opacity: 1;
            }
            100% {
                transform: translateX(100%);
                opacity: 0;
            }
        }

        /* Interactive Message */
        .message {
            font-size: 1.5em;
            line-height: 1.9;
            margin-bottom: 50px;
            color: #2c3e50;
            opacity: 0;
            animation: fadeInUp 2.5s ease-out 2s forwards;
            font-weight: 600;
            text-shadow: 0 3px 6px rgba(0, 0, 0, 0.15);
            position: relative;
            cursor: pointer;
            will-change: transform, opacity;
            transform: translateZ(0);
        }

        .message:hover {
            color: #e74c3c;
            transform: scale(1.02);
            text-shadow: 0 5px 10px rgba(231, 76, 60, 0.3);
        }

        @keyframes fadeInUp {
            0% {
                opacity: 0;
                transform: translateY(60px) rotateX(90deg);
            }
            100% {
                opacity: 1;
                transform: translateY(0) rotateX(0deg);
            }
        }

        .highlight {
            background: linear-gradient(45deg, #e74c3c, #f39c12, #e74c3c, #c0392b);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: bold;
            animation: gradientShift 4s ease infinite;
            position: relative;
            display: inline-block;
            cursor: pointer;
            transition: all 0.3s ease;
            will-change: transform;
            transform: translateZ(0);
        }

        .highlight:hover {
            transform: scale(1.1);
            filter: drop-shadow(0 0 10px rgba(231, 76, 60, 0.5));
        }

        .highlight::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            width: 0;
            height: 3px;
            background: linear-gradient(45deg, #e74c3c, #f39c12);
            animation: underlineGrow 1s ease-out 3.5s forwards;
            border-radius: 2px;
            will-change: width;
        }

        @keyframes underlineGrow {
            0% {
                width: 0;
            }
            100% {
                width: 100%;
            }
        }

        /* Enhanced Interactive Proposal Button */
        .proposal-button {
            background: linear-gradient(45deg, #e74c3c, #c0392b, #e74c3c, #f39c12, #e74c3c);
            background-size: 400% 400%;
            color: white;
            border: none;
            padding: 30px 60px;
            font-size: 2em;
            font-weight: bold;
            border-radius: 60px;
            cursor: pointer;
            transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow:
                0 20px 40px rgba(231, 76, 60, 0.5),
                inset 0 2px 0 rgba(255, 255, 255, 0.4),
                0 0 30px rgba(243, 156, 18, 0.3);
            opacity: 0;
            animation:
                fadeInUp 2.5s ease-out 4.5s forwards,
                buttonFloat 4s ease-in-out infinite 7s,
                gradientShift 6s ease infinite 4.5s;
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 3px;
            font-family: 'Playfair Display', serif;
            will-change: transform, opacity;
            transform: translateZ(0);
        }

        .proposal-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.5), transparent);
            transition: left 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            will-change: transform;
        }

        .proposal-button::after {
            content: '✨';
            position: absolute;
            top: 50%;
            right: 25px;
            transform: translateY(-50%);
            animation: sparkleRotate 3s linear infinite;
            font-size: 1.2em;
            will-change: transform;
        }

        @keyframes sparkleRotate {
            from {
                transform: translateY(-50%) rotate(0deg) scale(1);
            }
            50% {
                transform: translateY(-50%) rotate(180deg) scale(1.3);
            }
            to {
                transform: translateY(-50%) rotate(360deg) scale(1);
            }
        }

        @keyframes buttonFloat {
            0%, 100% {
                transform: translateY(0px) rotate(0deg) scale(1);
            }
            25% {
                transform: translateY(-8px) rotate(1deg) scale(1.02);
            }
            50% {
                transform: translateY(-15px) rotate(0deg) scale(1.05);
            }
            75% {
                transform: translateY(-8px) rotate(-1deg) scale(1.02);
            }
        }

        .proposal-button:hover {
            transform: translateY(-15px) scale(1.08) rotate(3deg);
            box-shadow:
                0 30px 60px rgba(231, 76, 60, 0.7),
                0 0 50px rgba(243, 156, 18, 0.5),
                inset 0 2px 0 rgba(255, 255, 255, 0.6),
                0 0 100px rgba(231, 76, 60, 0.3);
            background-position: 100% 0;
        }

        .proposal-button:hover::before {
            left: 100%;
        }

        .proposal-button:active {
            transform: translateY(-10px) scale(1.05);
            animation: buttonPulse 0.3s ease;
        }

        @keyframes buttonPulse {
            0%, 100% {
                transform: translateY(-10px) scale(1.05);
            }
            50% {
                transform: translateY(-10px) scale(1.1);
            }
        }

        /* Enhanced Response Section */
        .response-section {
            margin-top: 50px;
            opacity: 0;
            transform: translateY(60px) scale(0.8);
            transition: all 1s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            will-change: transform, opacity;
        }

        .response-section.show {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        .proposal-question {
            font-family: 'Dancing Script', cursive;
            font-size: 3.2em;
            background: linear-gradient(45deg, #e74c3c, #f39c12, #e74c3c, #c0392b);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 40px;
            font-weight: 700;
            animation:
                questionBounce 3s ease-in-out infinite,
                gradientShift 4s ease infinite,
                questionGlow 3s ease-in-out infinite;
            text-shadow: 0 0 40px rgba(231, 76, 60, 0.4);
            position: relative;
            cursor: pointer;
            will-change: transform;
            transform: translateZ(0);
        }

        .proposal-question:hover {
            transform: scale(1.05) rotate(2deg);
            animation-play-state: paused;
        }

        @keyframes questionBounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0) rotate(0deg) scale(1);
            }
            10% {
                transform: translateY(-20px) rotate(2deg) scale(1.02);
            }
            30% {
                transform: translateY(-15px) rotate(-1deg) scale(1.01);
            }
            40% {
                transform: translateY(-10px) rotate(1deg) scale(1.01);
            }
            60% {
                transform: translateY(-8px) rotate(-0.5deg) scale(1.005);
            }
        }

        @keyframes questionGlow {
            0%, 100% {
                text-shadow: 0 0 40px rgba(231, 76, 60, 0.4);
                filter: drop-shadow(0 0 20px rgba(231, 76, 60, 0.3));
            }
            50% {
                text-shadow: 0 0 60px rgba(231, 76, 60, 0.8);
                filter: drop-shadow(0 0 40px rgba(231, 76, 60, 0.6));
            }
        }

        /* Enhanced Response Buttons */
        .response-buttons {
            display: flex;
            gap: 40px;
            justify-content: center;
            flex-wrap: wrap;
            align-items: center;
        }

        .response-btn {
            padding: 25px 50px;
            border: none;
            border-radius: 40px;
            font-size: 1.6em;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
            position: relative;
            overflow: hidden;
            font-family: 'Playfair Display', serif;
            will-change: transform;
            transform: translateZ(0);
        }

        .response-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: all 0.6s ease;
            will-change: transform;
        }

        .response-btn:hover::before {
            width: 400px;
            height: 400px;
        }

        /* YES Button */
        .yes-btn {
            background: linear-gradient(45deg, #27ae60, #2ecc71, #27ae60, #00b894, #2ecc71);
            background-size: 400% 400%;
            color: white;
            box-shadow:
                0 15px 30px rgba(46, 204, 113, 0.5),
                inset 0 2px 0 rgba(255, 255, 255, 0.4),
                0 0 40px rgba(46, 204, 113, 0.3);
            animation:
                yesGlow 4s ease-in-out infinite,
                gradientShift 5s ease infinite,
                yesFloat 3s ease-in-out infinite;
        }

        @keyframes yesGlow {
            0%, 100% {
                box-shadow:
                    0 15px 30px rgba(46, 204, 113, 0.5),
                    inset 0 2px 0 rgba(255, 255, 255, 0.4),
                    0 0 40px rgba(46, 204, 113, 0.3);
                transform: scale(1);
            }
            50% {
                box-shadow:
                    0 25px 50px rgba(46, 204, 113, 0.7),
                    0 0 60px rgba(46, 204, 113, 0.5),
                    inset 0 2px 0 rgba(255, 255, 255, 0.6);
                transform: scale(1.03);
            }
        }

        @keyframes yesFloat {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
            }
            50% {
                transform: translateY(-5px) rotate(1deg);
            }
        }

        .yes-btn:hover {
            transform: scale(1.15) translateY(-12px) rotate(5deg);
            box-shadow:
                0 35px 70px rgba(46, 204, 113, 0.8),
                0 0 80px rgba(46, 204, 113, 0.6),
                inset 0 2px 0 rgba(255, 255, 255, 0.7);
            animation-play-state: paused;
        }

        /* NO Button with Enhanced Escape Mechanics */
        .no-btn {
            background: linear-gradient(45deg, #95a5a6, #7f8c8d, #95a5a6, #bdc3c7);
            background-size: 300% 300%;
            color: white;
            box-shadow:
                0 15px 30px rgba(149, 165, 166, 0.5),
                inset 0 2px 0 rgba(255, 255, 255, 0.4);
            animation: gradientShift 5s ease infinite;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .no-btn.escaping {
            position: fixed !important;
            z-index: 10000;
            animation: escapeAnimation 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes escapeAnimation {
            0% {
                transform: scale(1) rotate(0deg);
            }
            50% {
                transform: scale(1.2) rotate(180deg);
            }
            100% {
                transform: scale(1) rotate(360deg);
            }
        }

        /* Enhanced Final Message */
        .final-message {
            margin-top: 50px;
            font-size: 2.5em;
            font-family: 'Dancing Script', cursive;
            background: linear-gradient(45deg, #e74c3c, #f39c12, #e74c3c, #c0392b);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: bold;
            opacity: 0;
            transform: scale(0) rotateY(180deg);
            transition: all 1.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            text-shadow: 0 0 40px rgba(231, 76, 60, 0.4);
            animation: gradientShift 4s ease infinite;
            position: relative;
            will-change: transform, opacity;
            transform: translateZ(0);
        }

        .final-message.show {
            opacity: 1;
            transform: scale(1) rotateY(0deg);
            animation:
                celebration 3s ease-out,
                gradientShift 4s ease infinite,
                finalGlow 2s ease-in-out infinite;
        }

        @keyframes celebration {
            0% {
                transform: scale(0) rotateY(180deg);
            }
            25% {
                transform: scale(1.3) rotateY(90deg);
            }
            50% {
                transform: scale(0.9) rotateY(45deg);
            }
            75% {
                transform: scale(1.15) rotateY(0deg);
            }
            100% {
                transform: scale(1) rotateY(0deg);
            }
        }

        @keyframes finalGlow {
            0%, 100% {
                text-shadow: 0 0 40px rgba(231, 76, 60, 0.4);
                filter: drop-shadow(0 0 30px rgba(231, 76, 60, 0.3));
            }
            50% {
                text-shadow: 0 0 80px rgba(231, 76, 60, 0.8);
                filter: drop-shadow(0 0 60px rgba(231, 76, 60, 0.6));
            }
        }

        /* Enhanced Confetti */
        .confetti {
            position: absolute;
            width: 12px;
            height: 12px;
            animation: confettiFall 6s linear infinite;
            filter: drop-shadow(0 0 8px rgba(0, 0, 0, 0.4));
            will-change: transform, opacity;
            transform: translateZ(0);
        }

        @keyframes confettiFall {
            0% {
                transform: translateY(-100vh) rotate(0deg) scale(1);
                opacity: 1;
            }
            25% {
                transform: translateY(-50vh) rotate(180deg) scale(1.3);
                opacity: 1;
            }
            50% {
                transform: translateY(0vh) rotate(360deg) scale(1);
                opacity: 1;
            }
            75% {
                transform: translateY(50vh) rotate(540deg) scale(0.8);
                opacity: 0.8;
            }
            100% {
                transform: translateY(100vh) rotate(720deg) scale(0.5);
                opacity: 0;
            }
        }

        /* Click Effects */
        .click-effect {
            position: fixed;
            pointer-events: none;
            z-index: 9998;
            animation: clickExplosion 1.5s ease-out forwards;
            will-change: transform, opacity;
            transform: translateZ(0);
        }

        @keyframes clickExplosion {
            0% {
                opacity: 1;
                transform: scale(0) rotate(0deg);
            }
            25% {
                opacity: 1;
                transform: scale(1.5) rotate(90deg);
            }
            50% {
                opacity: 1;
                transform: scale(2.5) rotate(180deg);
            }
            100% {
                opacity: 0;
                transform: scale(0) rotate(360deg) translateY(-150px);
            }
        }

        /* Sound Wave Effect */
        .sound-wave {
            position: fixed;
            top: 50%;
            left: 50%;
            width: 100px;
            height: 100px;
            border: 3px solid rgba(231, 76, 60, 0.6);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: soundWave 2s ease-out infinite;
            pointer-events: none;
            z-index: 9997;
            will-change: transform, opacity;
        }

        @keyframes soundWave {
            0% {
                width: 100px;
                height: 100px;
                opacity: 1;
            }
            100% {
                width: 300px;
                height: 300px;
                opacity: 0;
            }
        }

        /* Enhanced Mobile Responsiveness */
        @media (max-width: 768px) {
            html {
                scroll-behavior: smooth;
                -webkit-overflow-scrolling: touch;
            }

            body {
                cursor: auto;
                -webkit-overflow-scrolling: touch;
                overscroll-behavior: contain;
            }

            .custom-cursor {
                display: none;
            }

            /* MASSIVE HEART - Even bigger on mobile */
            .massive-top-heart {
                font-size: 150px;
                top: 10px;
                animation: massiveHeartPulse 1.5s ease-in-out infinite;
            }

            .container {
                padding: 200px 20px 20px 20px; /* More top padding for bigger heart */
            }

            .proposal-card {
                padding: 40px 30px;
                margin: 20px;
                border-radius: 30px;
            }

            .title {
                font-size: 2.8em;
            }

            .message {
                font-size: 1.3em;
                line-height: 1.8;
            }

            .proposal-button {
                padding: 25px 40px;
                font-size: 1.6em;
            }

            .proposal-question {
                font-size: 2.5em;
            }

            .response-buttons {
                flex-direction: column;
                align-items: center;
                gap: 30px;
            }

            .response-btn {
                width: 250px;
                padding: 22px 35px;
                font-size: 1.3em;
            }

            .final-message {
                font-size: 2em;
            }
        }

        @media (max-width: 480px) {
            /* ULTRA MASSIVE HEART for small screens */
            .massive-top-heart {
                font-size: 180px;
                top: 5px;
            }

            .container {
                padding: 220px 15px 15px 15px; /* Even more top padding */
            }

            .proposal-card {
                padding: 30px 25px;
            }

            .title {
                font-size: 2.2em;
            }

            .message {
                font-size: 1.2em;
            }

            .proposal-button {
                padding: 22px 35px;
                font-size: 1.4em;
            }

            .proposal-question {
                font-size: 2em;
            }
        }

        /* Enhanced Performance Optimizations */
        .proposal-card,
        .heart,
        .confetti,
        .particle,
        .sparkle,
        .title,
        .message,
        .proposal-button,
        .response-btn,
        .final-message,
        .massive-top-heart {
            will-change: transform, opacity;
            transform: translateZ(0);
            -webkit-transform: translateZ(0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        /* Smooth Scrolling Enhancements */
        @supports (scroll-behavior: smooth) {
            html {
                scroll-behavior: smooth;
            }
        }

        /* Enhanced Accessibility */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }

            html {
                scroll-behavior: auto !important;
            }
        }

        /* Loading Animation */
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #e74c3c, #f39c12);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10001;
            opacity: 1;
            transition: opacity 1.5s ease-in-out;
            will-change: opacity;
            transform: translateZ(0);
        }

        .loading-heart {
            font-size: 5em;
            animation: loadingPulse 1s ease-in-out infinite;
            cursor: pointer;
            user-select: none;
            will-change: transform;
            transform: translateZ(0);
        }

        @keyframes loadingPulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.3);
            }
        }

        @keyframes loadingFade {
            0% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                opacity: 0;
                pointer-events: none;
            }
        }

        /* Additional smooth animations with performance optimization */
        @keyframes heartExplode {
            0% {
                transform: scale(1) rotate(0deg);
            }
            50% {
                transform: scale(2) rotate(180deg);
            }
            100% {
                transform: scale(0) rotate(360deg);
                opacity: 0;
            }
        }

        @keyframes sparkleExplode {
            0% {
                transform: scale(1) rotate(0deg);
            }
            50% {
                transform: scale(3) rotate(180deg);
            }
            100% {
                transform: scale(0) rotate(360deg);
                opacity: 0;
            }
        }

        @keyframes highlightPulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
                filter: drop-shadow(0 0 20px rgba(231, 76, 60, 0.8));
            }
        }

        @keyframes messageSlide {
            0% {
                transform: translateX(-50%) translateY(-100px);
                opacity: 0;
            }
            20% {
                transform: translateX(-50%) translateY(0);
                opacity: 1;
            }
            80% {
                transform: translateX(-50%) translateY(0);
                opacity: 1;
            }
            100% {
                transform: translateX(-50%) translateY(-100px);
                opacity: 0;
            }
        }

        /* Smooth Scroll Snap Points */
        .container {
            scroll-snap-align: center;
            scroll-snap-stop: always;
        }

        /* Enhanced Scroll Performance */
        body {
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
            overscroll-behavior: contain;
            scroll-snap-type: y proximity;
        }

        /* Additional Smooth Scrolling Properties */
        * {
            scroll-behavior: smooth !important;
        }

        /* Enhanced Touch Scrolling for Mobile */
        @media (hover: none) and (pointer: coarse) {
            body {
                -webkit-overflow-scrolling: touch;
                scroll-behavior: smooth;
                overscroll-behavior: contain;
            }

            .container {
                scroll-snap-align: start;
            }
        }
    </style>
</head>

<body>
    <!-- Loading Screen -->
    <div class="loading" id="loading">
        <div class="loading-heart" id="loadingHeart">💖</div>
    </div>

    <!-- Custom Cursor -->
    <div class="custom-cursor" id="customCursor"></div>

    <!-- MASSIVE TOP HEART - First thing users see -->
    <div class="massive-top-heart" id="massiveTopHeart">💖</div>

    <!-- Background Effects -->
    <div class="particles" id="particles"></div>
    <div class="hearts" id="hearts"></div>
    <div class="sparkles" id="sparkles"></div>
    <div class="celebration" id="celebration"></div>

    <!-- Audio Element -->
    <audio id="backgroundMusic" preload="auto" playsinline loop>
        <source src="song.mp3" type="audio/mpeg">
    </audio>

    <!-- Main Content -->
    <div class="container">
        <!-- Audio Controls -->
        <div class="audio-controls" style="position: fixed; top: 20px; right: 20px; z-index: 10002;">
            <button id="muteBtn" style="padding: 10px 20px; font-size: 1em; background: linear-gradient(45deg, #e74c3c, #f39c12); color: white; border: none; border-radius: 20px; cursor: pointer; transition: all 0.3s ease;">
                🔊 Mute
            </button>
        </div>

        <div class="proposal-card" id="proposalCard">
            <h1 class="title" id="title">💖 Dearest Sneha 💖</h1>

            <div class="message" id="message">
                My beautiful <span class="highlight">Sneha</span>,<br><br>

                From the moment you entered my life, everything changed. Your smile lights up my darkest days, your
                laugh is my favorite melody, and your love has made me the happiest person alive.<br><br>

                Every sunrise reminds me of your radiance, every sunset of the warmth you bring to my heart. You are my
                <span class="highlight">best friend</span>, my <span class="highlight">greatest love</span>, and my
                <span class="highlight">forever person</span>.<br><br>

                I want to spend every moment of my life making you as happy as you make me. I want to grow old with you,
                share all of life's adventures, and love you more deeply with each passing day.<br><br>

                So here I am, with all my love and hope...
            </div>

            <button class="proposal-button" id="proposalButton">
                💍 Click Here For Something Special 💍
            </button>

            <div class="response-section" id="responseSection">
                <div class="proposal-question">
                    <strong>Sneha, will you marry me? 💕</strong>
                </div>
                <div class="response-buttons">
                    <button class="response-btn yes-btn" id="yesBtn">
                        YES! 💖
                    </button>
                    <button class="response-btn no-btn" id="noBtn">
                        Maybe Later 😅
                    </button>
                </div>
            </div>

            <div class="final-message" id="finalMessage">
                🎉 She said YES! We're getting married! 🎉<br>
                <span
                    style="font-size: 0.7em; color: #2c3e50; margin-top: 20px; display: block; font-family: 'Playfair Display', serif;">
                    Forever yours, with all my love 💕
                </span>
                <div style="margin-top: 25px; font-size: 1.5em;">
                    ✨💖✨💍✨💖✨
                </div>
            </div>
        </div>
    </div>

    <script>
        // Enhanced Interactive Features with Performance Optimizations
        let mouseTrail = [];
        let escapeCount = 0;
        let soundWaves = [];
        let musicStarted = false;
        let animationFrameId;
        let isScrolling = false;
        let scrollTimeout;
        
        const audio = document.getElementById('backgroundMusic');

        // Enhanced Smooth Scrolling Implementation
        function enhanceSmoothScrolling() {
            // Detect scroll events
            window.addEventListener('scroll', function() {
                if (!isScrolling) {
                    isScrolling = true;
                    document.body.classList.add('scrolling');
                }
                
                // Clear timeout
                clearTimeout(scrollTimeout);
                
                // Set timeout to remove scrolling class
                scrollTimeout = setTimeout(function() {
                    isScrolling = false;
                    document.body.classList.remove('scrolling');
                }, 150);
            }, { passive: true });

            // Smooth scroll to elements
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        }

        // Enhanced Performance Optimizations
        function optimizePerformance() {
            // Use requestAnimationFrame for smooth animations
            function smoothAnimationLoop() {
                // Optimize floating elements
                const hearts = document.querySelectorAll('.heart');
                const particles = document.querySelectorAll('.particle');
                const sparkles = document.querySelectorAll('.sparkle');
                
                // Cleanup excessive elements
                if (hearts.length > 30) {
                    hearts[0].remove();
                }
                if (particles.length > 50) {
                    particles[0].remove();
                }
                if (sparkles.length > 15) {
                    sparkles[0].remove();
                }
                
                animationFrameId = requestAnimationFrame(smoothAnimationLoop);
            }
            
            smoothAnimationLoop();
        }

        // Audio setup with enhanced mobile compatibility
        audio.volume = 0.3;

        // Function to start music
        function startMusic() {
            if (!musicStarted) {
                audio.play().then(() => {
                    console.log("Music started successfully!");
                    musicStarted = true;
                }).catch(e => {
                    console.error('Audio autoplay failed:', e);
                    showPlayButton();
                });
            }
        }

        // Enhanced fallback "Play Music" button
        function showPlayButton() {
            const playButton = document.createElement('button');
            playButton.textContent = '🎵 Play Music';
            playButton.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                padding: 15px 30px;
                font-size: 1.2em;
                background: linear-gradient(45deg, #e74c3c, #f39c12);
                color: white;
                border: none;
                border-radius: 25px;
                cursor: pointer;
                z-index: 10002;
                transition: all 0.3s ease;
                animation: fadeInUp 0.5s ease-out;
            `;
            document.body.appendChild(playButton);

            playButton.addEventListener('click', () => {
                audio.play().then(() => {
                    musicStarted = true;
                    playButton.style.animation = 'fadeOut 0.5s ease-out forwards';
                    setTimeout(() => playButton.remove(), 500);
                }).catch(e => console.error('Manual play failed:', e));
            });
        }

        // Enhanced mute button with smooth transitions
        const muteBtn = document.getElementById('muteBtn');
        muteBtn.addEventListener('click', () => {
            if (audio.muted) {
                audio.muted = false;
                muteBtn.textContent = '🔊 Mute';
                muteBtn.style.background = 'linear-gradient(45deg, #e74c3c, #f39c12)';
                if (!musicStarted) startMusic();
            } else {
                audio.muted = true;
                muteBtn.textContent = '🔇 Unmute';
                muteBtn.style.background = 'linear-gradient(45deg, #95a5a6, #7f8c8d)';
            }
        });

        // Enhanced Custom Cursor with Performance Optimization
        const cursor = document.getElementById('customCursor');
        let mouseX = 0, mouseY = 0;
        let cursorX = 0, cursorY = 0;

        if (window.innerWidth > 768) {
            document.addEventListener('mousemove', (e) => {
                mouseX = e.clientX;
                mouseY = e.clientY;
            });

            // Smooth cursor animation
            function animateCursor() {
                cursorX += (mouseX - cursorX) * 0.1;
                cursorY += (mouseY - cursorY) * 0.1;
                cursor.style.transform = `translate(${cursorX}px, ${cursorY}px)`;
                
                // Create optimized mouse trail
                if (Math.random() < 0.3) {
                    createMouseTrail(cursorX, cursorY);
                }
                
                requestAnimationFrame(animateCursor);
            }
            animateCursor();
        }

        function createMouseTrail(x, y) {
            if (window.innerWidth <= 768) return;

            const trail = document.createElement('div');
            trail.className = 'mouse-trail';
            trail.style.left = x + 'px';
            trail.style.top = y + 'px';
            document.body.appendChild(trail);

            setTimeout(() => trail.remove(), 1000);
        }

        // Enhanced Heart Creation with Throttling
        let heartCreateTimeout;
        function createHeart() {
            const hearts = ['💖', '💕', '💗', '💓', '💝', '❤️', '💜', '💙', '🧡', '💚', '🤍', '🖤'];
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = (Math.random() * 6 + 8) + 's';
            heart.style.fontSize = (Math.random() * 25 + 20) + 'px';
            heart.style.animationDelay = Math.random() * 4 + 's';

            const hue = Math.random() * 360;
            heart.style.filter = `hue-rotate(${hue}deg) drop-shadow(0 0 15px hsla(${hue}, 70%, 50%, 0.7))`;

            // Enhanced interactive hearts
            heart.addEventListener('click', () => {
                startMusic();
                createClickEffect(heart.getBoundingClientRect().left, heart.getBoundingClientRect().top);
                heart.style.animation = 'heartExplode 0.5s ease-out forwards';
            });

            document.getElementById('hearts').appendChild(heart);
        }
        
        // Throttled heart creation
        function throttledCreateHeart() {
            if (!heartCreateTimeout) {
                heartCreateTimeout = setTimeout(() => {
                    createHeart();
                    heartCreateTimeout = null;
                }, 300);
            }
        }
        setInterval(throttledCreateHeart, 300);

        // Enhanced Sparkle Creation with Performance Optimization
        function createSparkle() {
            const sparkles = ['✨', '⭐', '🌟', '💫', '⚡', '🔥', '💥', '🎆'];
            const sparkle = document.createElement('div');
            sparkle.classList.add('sparkle');
            sparkle.innerHTML = sparkles[Math.floor(Math.random() * sparkles.length)];
            sparkle.style.left = Math.random() * 95 + '%';
            sparkle.style.top = Math.random() * 95 + '%';
            sparkle.style.animationDuration = (Math.random() * 6 + 6) + 's';
            sparkle.style.animationDelay = Math.random() * 3 + 's';

            // Enhanced interactive sparkles
            sparkle.addEventListener('click', () => {
                createSoundWave();
                sparkle.style.animation = 'sparkleExplode 0.8s ease-out forwards';
                createClickEffect(sparkle.getBoundingClientRect().left, sparkle.getBoundingClientRect().top);
            });

            document.getElementById('sparkles').appendChild(sparkle);
            setTimeout(() => sparkle.remove(), 12000);
        }
        setInterval(createSparkle, 800);

        // Enhanced Particle System with Performance Optimization
        function createParticle() {
            const particle = document.createElement('div');
            particle.classList.add('particle');
            particle.style.left = Math.random() * 100 + 'vw';
            particle.style.animationDuration = (Math.random() * 20 + 20) + 's';
            particle.style.animationDelay = Math.random() * 8 + 's';

            const size = Math.random() * 8 + 3;
            particle.style.width = size + 'px';
            particle.style.height = size + 'px';

            const colors = ['rgba(231,76,60,0.7)', 'rgba(243,156,18,0.7)', 'rgba(155,89,182,0.7)', 'rgba(52,152,219,0.7)', 'rgba(26,188,156,0.7)'];
            particle.style.background = colors[Math.floor(Math.random() * colors.length)];
            particle.style.opacity = Math.random() * 0.6 + 0.4;

            document.getElementById('particles').appendChild(particle);
            setTimeout(() => particle.remove(), 28000);
        }
        setInterval(createParticle, 200);

        // Enhanced Click Effects with Smooth Animation
        function createClickEffect(x, y) {
            const effects = ['💥', '✨', '🎆', '💫', '⚡', '🌟', '💖', '🔥'];
            const effect = document.createElement('div');
            effect.className = 'click-effect';
            effect.innerText = effects[Math.floor(Math.random() * effects.length)];
            effect.style.left = x + 'px';
            effect.style.top = y + 'px';
            effect.style.fontSize = (Math.random() * 20 + 25) + 'px';
            document.body.appendChild(effect);

            setTimeout(() => effect.remove(), 1500);
        }

        // Enhanced Sound Wave Effect
        function createSoundWave() {
            const wave = document.createElement('div');
            wave.className = 'sound-wave';
            document.body.appendChild(wave);

            setTimeout(() => wave.remove(), 2000);
        }

        // Enhanced Click Interactions with Smooth Effects
        document.addEventListener('click', (e) => {
            createClickEffect(e.clientX, e.clientY);

            // Random chance for extra effects
            if (Math.random() < 0.3) {
                createSoundWave();
            }
        });

        // Enhanced Loading Heart Click
        document.getElementById('loadingHeart').addEventListener('click', () => {
            startMusic();
            createSoundWave();
            
            // Smooth heart burst effect
            for (let i = 0; i < 10; i++) {
                setTimeout(() => createHeart(), i * 100);
            }

            // Smooth loading screen fade
            const loading = document.getElementById('loading');
            loading.style.animation = 'loadingFade 1.5s ease-in-out forwards';
            setTimeout(() => {
                loading.style.display = 'none';
            }, 1500);
        });

        // Enhanced MASSIVE TOP HEART Click - Most Important Feature
        document.getElementById('massiveTopHeart').addEventListener('click', () => {
            startMusic();
            createSoundWave();
            
            // Massive heart explosion effect
            const massiveHeart = document.getElementById('massiveTopHeart');
            massiveHeart.style.animation = 'massiveHeartPulse 0.5s ease-in-out';
            
            // Create massive heart burst
            for (let i = 0; i < 20; i++) {
                setTimeout(() => createHeart(), i * 50);
            }

            // Create multiple sound waves
            for (let i = 0; i < 3; i++) {
                setTimeout(() => createSoundWave(), i * 200);
            }

            // Scroll to main content smoothly
            document.getElementById('proposalCard').scrollIntoView({
                behavior: 'smooth',
                block: 'center'
            });
        });

        // Enhanced Interactive Title with Smooth Animations
        document.getElementById('title').addEventListener('click', () => {
            startMusic();
            createSoundWave();
            
            // Smooth title animation
            const title = document.getElementById('title');
            title.style.animation = 'titlePulse 2s ease-in-out';
            
            for (let i = 0; i < 10; i++) {
                setTimeout(() => createHeart(), i * 100);
            }
        });

        // Enhanced Interactive Message
        document.getElementById('message').addEventListener('click', () => {
            const highlights = document.querySelectorAll('.highlight');
            highlights.forEach((highlight, index) => {
                setTimeout(() => {
                    highlight.style.animation = 'highlightPulse 0.8s ease-out';
                }, index * 200);
            });
        });

        // Enhanced Proposal Button with Smooth Transitions
        document.getElementById('proposalButton').addEventListener('click', () => {
            startMusic();
            
            // Smooth section reveal
            const responseSection = document.getElementById('responseSection');
            responseSection.classList.add('show');
            
            // Smooth button hide
            const proposalButton = document.getElementById('proposalButton');
            proposalButton.style.transform = 'scale(0.8)';
            proposalButton.style.opacity = '0';
            setTimeout(() => {
                proposalButton.style.display = 'none';
            }, 300);

            // Smooth celebration effects
            for (let i = 0; i < 20; i++) {
                setTimeout(() => createHeart(), i * 50);
            }
            createSoundWave();
        });

        // Enhanced "No" Button Escape Mechanics with Smooth Animations
        const noBtn = document.getElementById('noBtn');
        let escapePositions = [];
        let hoverTimeout;

        function moveNoButton() {
            escapeCount++;
            const messages = [
                "Come on, don't be shy! 😊",
                "I know you want to say yes! 💕",
                "The button is trying to escape! 😄",
                "Catch me if you can! 🏃‍♂️",
                "You can't avoid love forever! 💖"
            ];

            // Show escape message with smooth animation
            if (escapeCount <= messages.length) {
                showTemporaryMessage(messages[escapeCount - 1]);
            }

            const maxX = window.innerWidth - 200;
            const maxY = window.innerHeight - 100;

            let newX, newY;
            let attempts = 0;

            // Ensure new position is far from previous positions
            do {
                newX = Math.random() * Math.max(maxX, 0);
                newY = Math.random() * Math.max(maxY, 0);
                attempts++;
            } while (attempts < 10 && escapePositions.some(pos =>
                Math.abs(pos.x - newX) < 100 && Math.abs(pos.y - newY) < 100
            ));

            escapePositions.push({ x: newX, y: newY });
            if (escapePositions.length > 5) escapePositions.shift();

            // Smooth escape animation
            noBtn.classList.add('escaping');
            noBtn.style.position = 'fixed';
            noBtn.style.transition = 'all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
            noBtn.style.left = newX + 'px';
            noBtn.style.top = newY + 'px';
            noBtn.style.zIndex = '10000';

            // Create escape effects
            createClickEffect(newX + 100, newY + 25);

            setTimeout(() => {
                noBtn.classList.remove('escaping');
            }, 500);
        }

        function showTemporaryMessage(text) {
            const msg = document.createElement('div');
            msg.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(231, 76, 60, 0.9);
                color: white;
                padding: 15px 30px;
                border-radius: 25px;
                font-size: 1.2em;
                font-weight: bold;
                z-index: 10001;
                animation: messageSlide 3s ease-out forwards;
                backdrop-filter: blur(10px);
                box-shadow: 0 10px 30px rgba(231, 76, 60, 0.3);
            `;
            msg.textContent = text;
            document.body.appendChild(msg);

            setTimeout(() => msg.remove(), 3000);
        }

        // Enhanced button escape mechanics for different devices
        if (window.innerWidth > 768) {
            noBtn.addEventListener('mouseenter', () => {
                hoverTimeout = setTimeout(moveNoButton, 300);
            });

            noBtn.addEventListener('mouseleave', () => {
                clearTimeout(hoverTimeout);
            });
        } else {
            noBtn.addEventListener('click', moveNoButton);
        }

        // Enhanced YES Button Celebration with Smooth Effects
        document.getElementById('yesBtn').addEventListener('click', () => {
            celebrate();
        });

        function celebrate() {
            // Enhanced confetti explosion with smooth animations
            const confettiColors = ['#e74c3c', '#f1c40f', '#2ecc71', '#3498db', '#9b59b6', '#e67e22', '#1abc9c', '#e91e63', '#ff6b6b', '#4ecdc4'];

            for (let i = 0; i < 150; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.top = '-20px';
                confetti.style.backgroundColor = confettiColors[Math.floor(Math.random() * confettiColors.length)];
                confetti.style.animationDelay = Math.random() * 3 + 's';
                confetti.style.animationDuration = (Math.random() * 4 + 4) + 's';
                document.getElementById('celebration').appendChild(confetti);

                setTimeout(() => confetti.remove(), 8000);
            }

            // Smooth final message reveal
            const finalMessage = document.getElementById('finalMessage');
            finalMessage.classList.add('show');

            // Enhanced sound waves with smooth timing
            for (let i = 0; i < 5; i++) {
                setTimeout(() => createSoundWave(), i * 300);
            }

            // Enhanced heart explosion with smooth animations
            for (let i = 0; i < 30; i++) {
                setTimeout(() => createHeart(), i * 100);
            }

            // Haptic feedback for mobile devices
            if (navigator.vibrate) {
                navigator.vibrate([200, 100, 200, 100, 200]);
            }
        }

        // Enhanced Keyboard Interactions with Smooth Responses
        document.addEventListener('keydown', (e) => {
            switch (e.key) {
                case 'Enter':
                    if (!document.getElementById('responseSection').classList.contains('show')) {
                        document.getElementById('proposalButton').click();
                    }
                    break;
                case 'y':
                case 'Y':
                    if (document.getElementById('responseSection').classList.contains('show')) {
                        document.getElementById('yesBtn').click();
                    }
                    break;
                case ' ':
                    e.preventDefault();
                    createSoundWave();
                    for (let i = 0; i < 5; i++) {
                        setTimeout(() => createHeart(), i * 100);
                    }
                    break;
            }
        });

        // Initialize enhanced features
        function initializeEnhancements() {
            enhanceSmoothScrolling();
            optimizePerformance();
            
            // Enhanced page load performance
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', () => {
                    console.log('Enhanced smooth scrolling initialized!');
                });
            }
        }

        // Auto-start music on first user interaction with smooth handling
        document.addEventListener('click', startMusic, { once: true });
        document.addEventListener('touchstart', startMusic, { once: true });

        // Initialize all enhancements
        initializeEnhancements();

        console.log("💖 Enhanced Ultra-Smooth Proposal with MASSIVE TOP HEART Loaded! 💖");
        console.log("🎯 Enhanced Features:");
        console.log("• MASSIVE TOP HEART - First thing users see on mobile!");
        console.log("• Buttery smooth scrolling with optimized performance");
        console.log("• Enhanced custom cursor with smooth tracking");
        console.log("• Optimized animations with requestAnimationFrame");
        console.log("• Smooth interactive elements with enhanced transitions");
        console.log("• Performance-optimized floating effects");
        console.log("• Enhanced mobile touch scrolling");
        console.log("• Smooth escape mechanics for 'No' button");
        console.log("• Hardware-accelerated animations");
        console.log("✨ This proposal is now silky smooth with a MASSIVE heart that will absolutely melt her heart! ✨");
    </script>
</body>

</html>